# java工具

### 一.Git的相关知识

##### 1.Git是什么？它有什么作用？

 Git是一个版本控制系统，用于跟踪文档和代码的更改，并协助多人协作开发。

- Git 是分布式版本控制系统（DVCS）。它可以跟踪文件的更改，并允许你恢复到任何特定版本
- 的更改。
- 与 SVN 等其他版本控制系统（VCS）相比，其分布式架构具有许多优势，一个主要优点是它不
- 依赖于中央服务器来存储项目文件的所有版本。
- 每个开发人员都可以“克隆”我在图中用“Local repository”标注的存储库的副本，并且在他的硬
- 盘驱动器上具有项目的完整历史记录，因此当服务器中断时，你需要的所有恢复数据都在你队
- 友的本地 Git 存储库中。
- 还有一个中央云存储库，开发人员可以向其提交更改，并与其他团队成员进行共享，如图所
- 示，所有协作者都在提交更改“远程存储库”。

##### 2.Git与SVN有什么区别？

 Git是分布式的版本控制系统，而SVN是集中式的。在Git中，每个用户都有完整的代码副本，可以在没有网络连接的情况下工作。而SVN需要依赖服务器来管理代码仓库。

![image-20240229204212119](C:\Users\Luckylemon\AppData\Roaming\Typora\typora-user-images\image-20240229204212119.png)

##### 3.Git的三个基本区域是什么？

 工作区（Working Directory）、暂存区（Staging Area）和版本库（Repository）。工作区是实际进行编辑的目录；暂存区是用于存储待提交修改的区域；版本库是存储实际提交记录的地方。

##### 4.Git的三个基本状态是什么？ 

已修改（Modified）、已暂存（Staged）和已提交（Committed）。已修改表示对文件做了修改但尚未保存到数据库；已暂存表示将已修改的文件保存到下次提交时的快照中；已提交表示将已暂存文件永久保存到数据库中。

##### 5.如何创建一个新的Git仓库？

 可以使用git init命令在项目目录中创建一个新的Git仓库。

##### 6.如何将修改的文件提交到Git仓库？

使用git add命令将修改的文件添加到暂存区，然后使用git commit命令将暂存区的内容提交到版本库。

如何查看Git提交记录？ 可以使用git log命令来查看提交历史，包括提交人、提交时间、提交说明等信息。

##### 7.如何撤销对文件的修改？ 

使用git checkout -- <file>命令可以撤销对文件的修改，还原到最近一次提交或者暂存的状态。

##### 8.如何创建一个新分支并切换到该分支？

 可以使用git branch <branch-name>命令创建一个新分支，然后使用git checkout <branch-name>命令切换到该分支。

##### 9.如何合并分支？ 

可以使用git merge <branch-name>命令将指定分支的修改合并到当前分支。

##### 10.什么是Git stash？

 Git stash用于临时保存当前工作目录和索引状态，以便在稍后恢复。可以使用git stash save命令将修改内容存储起来，然后使用git stash apply或git stash pop命令恢复。

##### 11.如何解决Git合并冲突？

 在Git合并分支过程中，如果两个分支上有相同的文件进行了修改，则会出现合并冲突。可以使用git mergetool命令打开图形化工具，手动解决冲突，或者使用git add命令标记解决冲突后的文件，然后再提交修改。

##### 12.如何回退到之前的某个提交版本？

 可以使用git reset命令回退到之前的某个提交版本。例如，使用git reset HEAD~1命令可以撤消最近的一次提交，回到前一次提交的状态。

##### 13.如何查看当前状态下有哪些文件被修改过？ 

可以使用git status命令查看当前状态下，哪些文件被修改过但还未提交到版本库。同时也可以查看哪些文件已经添加到暂存区、哪些文件未跟踪等信息。

##### 14.Git如何进行版本回退？

 可以使用git revert命令进行版本回退。与git reset不同的是，git revert会创建一个新提交来撤销之前的提交记录，保留这些提交历史。

##### 15.如何删除Git仓库中的文件或目录？

 可以使用git rm命令删除Git仓库中的一个或多个文件。同时，还可以使用git rm -r命令删除某个目录以及其下所有文件。

##### 16.如何查看远程仓库列表？ 

可以使用git remote命令查看当前配置的远程仓库列表。

##### 17.如何将本地分支推送到远程仓库？

 可以使用git push命令将本地分支推送到指定的远程仓库。例如，使用git push origin <branch-name>可以将本地分支推送到名为<branch-name>的远程分支。

##### 17.如何从远程仓库拉取更新？

可以使用git pull命令从远程仓库拉取最新的提交并合并到当前分支。

##### 18.如何从远程仓库克隆一个项目？

 可以使用git clone <remote-url>命令从远程仓库克隆整个项目到本地。

##### 19.如何创建一个带有标签的版本？ 

可以使用git tag命令创建一个标签。例如，使用git tag <tag-name>可以创建一个名为<tag-name>的标签，并且默认会在当前分支上打标签。

##### 20.如何查看某个文件的修改历史？ 

可以使用git log -- <file>命令来查看某个文件的修改历史记录。

##### 21.如何撤销已经推送到远程仓库的提交？

 可以使用git revert命令创建一个新的提交来撤销已经推送到远程仓库的提交历史。

##### 21.如何解决Git中的大文件问题？ 

可以使用Git LFS（Large File Storage）来处理Git中的大文件问题。Git LFS会将大文件存储在单独的服务器上，而不是将其包含在版本控制中。

##### 22.什么是git中的“裸存储库”

你应该说明 “工作目录” 和 “裸存储库” 之间的区别。

Git 中的 “裸” 存储库只包含版本控制信息而没有工作文件（没有工作树），并且它不包含特殊的

.git 子目录。相反，它直接在主目录本身包含 .git 子目录中的所有内容，其中工作目录包括：一个 .git 子目录，其中包含你的仓库所有相关的 Git 修订历史记录；工作树，或签出的项目文件的副本。

##### 23.在Git中，你应该如何还原已经push并公开的提交？

 这个问题可以有两个答案，你

回答时也要保包含这两个答案，因为根据具体情况可以使用以下选项：

- 删除或修复新提交中的错误文件，并将其推送到远程存储库。这是修复错误的最自然方式。对文件进行必要的修改后，将其提交到我将使用的远程存储库.

  ```
  git commit -m "commit message"
  ```

- 创建一个新的提交，撤消在错误提交中所做的所有更改。可以使用命令

```
git revert <name of bad commit>
```

##### 24.git pull 和git fetch的区别

git pull 命令从中央存储库中提取特定分支的新更改或提交，并更新本地存储库中的目标分支。

git fetch 也用于相同的目的，但它的工作方式略有不同。当你执行 git fetch 时，它会从所需的分支中提取所有新提交，并将其存储在本地存储库中的新分支中。如果要在目标分支中反映这些更改，必须在 git fetch 之后执行 git merge 。只有在对目标分支和获取的分支进行合并后才会更新目标分支。

为了方便起见，请记住以下等式：

git pull = git fetch + git merge

##### 25.git中“staging area”或“index”是什么

在完成提交之前，可以在称为“staging area”或“index”的中间区域中对其进行格式化和审查。从图中可以看出，每个更改首先在暂存区域中进行验证，我将其称为“stage file”，然后将更改提交到存储库。

![image-20240229205331993](C:\Users\Luckylemon\AppData\Roaming\Typora\typora-user-images\image-20240229205331993.png)

##### **9***什么是 **git stash?**

通常情况下，当你一直在处理项目的某一部分时，如果你想要在某个时候切换分支去处理其他事情，事情会处于混乱的状态。问题是，你不想把完成了一半的工作的提交，以便你以后就可以回到当前的工作。解决这个问题的答案是 git stash。

再解释什么是git stash。

stash 会将你的工作目录，即修改后的跟踪文件和暂存的更改保存在一堆未完成的更改中，你可以随时重新应用这些更改。

##### 26.什么是git stash drop

通过说明我们使用 git stash drop 的目的来回答这个问题。

git stash drop 命令用于删除隐藏的项目。默认情况下，它将删除最后添加的存储项，如果提供参数的话，它还可以删除特定项。

下面举个例子:如果要从隐藏项目列表中删除特定的存储项目，可以使用以下命令：**git stash list****：它将显示隐藏项目列表，如：tash@{0}: WIP on master: 049d078 added the index file stash@{1}: WIP on master: c264051Revert “added file_size” stash@{2}: WIP on master: 21d80a5 added number to log

如果要删除名为 stash@{0} 的项目，请使用命令 **git stash drop stash@{0}**

##### 27.如何找到特定提交中已更改的文件列表

要获取特定提交中已更改的列表文件，请使用以下命令：

**git diff-tree -r {hash}**

给定提交哈希，这将列出在该提交中更改或添加的所有文件。 -r 标志使命令列出单个文件，而不是仅将它们折叠到根目录名称中。

你还可以包括下面提到的内容，虽然它是可选的，但有助于给面试官留下深刻印象。输出还将包含一些额外信息，可以通过包含两个标志把它们轻松的屏蔽掉：

**git diff-tree –no-commit-id –name-only -r {hash}**

这里 -no-commit-id 将禁止提交哈希值出现在输出中，而 -name-only 只会打印文件名而不是它们的路径。

##### 28.git config的功能是什么？

git 使用你的用户名将提交与身份相关联。 git config 命令可用来更改你的 git 配置，包括你的用户名。

下面用一个例子来解释。

假设你要提供用户名和电子邮件 ID 用来将提交与身份相关联，以便你可以知道是谁进行了特定提交。为此，我将使用：

**git config –global user.name "Your Name":** 此命令将添加用户名。

**git config –global user.email "Your E-mail Address":** 此命令将添加电子邮件ID

##### 29.提交对象包含什么？

Commit 对象包含以下组件，你应该提到以下这三点：

- 一组文件，表示给定时间点的项目状态
- 引用父提交对象
- SHAI 名称，一个40个字符的字符串，提交对象的唯一标识

##### 30.如何在Git中创建存储库？

要创建存储库，先为项目创建一个目录（如果该目录不存在），然后运行命令 **git init**。通过运行此命令，将在项目的目录中创建 .git 目录

##### 31.怎样将N次提交压缩成一次提交？

将N个提交压缩到单个提交中有两种方式：

1.如果要从头开始编写新的提交消息，请使用以下命令：

git reset –soft HEAD~N &&

git commit

2.如果你想在新的提交消息中串联现有的提交消息，那么需要提取这些消息并将它们传给 gitcommit，可以这样：

git reset –soft HEAD~N &&

git commit –edit -m"$(git log –format=%B –reverse .HEAD@{N})"

##### 32.什么是git bisect？如何使用它来确定回归（错误）的来源？

我建议你先给出一个Git bisect 的小定义。

Git bisect 用于查找使用二进制搜索引入错误的提交。 Git bisect的命令是git bisect <subcommand> <options>

既然你已经提到过上面的命令，那就解释一下这个命令会做什么。

此命令用了二进制搜索算法来查找项目历史记录中的哪个提交引入了错误。你可以通过告诉它已知包含该错误的“错误”提交以及在引入错误之前已知的“良好”提交来使用它。然后 git bisect 在这两个端点之间选择一个提交，并询问你所选的提交是“好”还是“坏”。它继续缩小范围，直到找到引入更改的确切提交。

##### 33.描述一下你所使用的分支策略

这个问题被要求用Git来测试你的分支经验，告诉他们你在以前的工作中如何使用分支以及它的用途

是什么，你可以参考以下提到的要点：

1.功能分支（Feature branching）

要素分支模型将特定要素的所有更改保留在分支内。当通过自动化测试对功能进行全面测试和验证时，该分支将合并到主服务器中。

2.任务分支（Task branching）

在此模型中，每个任务都在其自己的分支上实现，任务键包含在分支名称中。很容易看出哪个代码实现了哪个任务，只需在分支名称中查找任务键。

3.发布分支（Release branching）

一旦开发分支获得了足够的发布功能，你就可以克隆该分支来形成发布分支。创建该分支将会启动下一个发布周期，所以在此之后不能再添加任何新功能，只有错误修复，文档生成和其他面向发布的任务应该包含在此分支中。一旦准备好发布，该版本将合并到主服务器并标记版本号。此外，它还应该再将自发布以来已经取得的进展合并回开发分支。

最后告诉他们分支策略因团队而异，所以我知道基本的分支操作，如删除、合并、检查分支等

##### 34.如果想要在提交之前运行代码性检查工具，并在测试失败时阻止提交，该怎样配置 **Git** **存储库？**

我建议你先介绍一下完整性检查。完整性或冒烟测试用来确定继续测试是否可行和合理。

下面解释如何实现这一目标。

这可以通过与存储库的 pre-commit hook 相关的简单脚本来完成。git 会在提交之前触发 pre-commit hook。你可以在这个脚本中运行其他工具，例如 linters，并对提交到存储库中的更改执行完整性检查

```
#!/bin/sh
files=$(git diff –cached –name-only –diff-filter=ACM | grep ‘.go$’)
if [ -z files ]; then
 exit 0
fi
unfmtd=$(gofmt -l $files)
if [ -z unfmtd ]; then
 exit 0
fi
echo “Some .go files are not fmt’d”
exit 1
```

##### 35.确认分支是否已经合并为master，可以通过什么手段？

要知道某个分支是否已合并为master，你可以使用以下命令：

git branch –merged 它列出了已合并到当前分支的分支。

git branch –no-merged 它列出了尚未合并的分支。

##### 36.什么是SubGit?

SubGit 是将 SVN 到 Git迁移的工具。它创建了一个可写的本地或远程 Subversion 存储库的 Git 镜

像，并且只要你愿意，可以随意使用 Subversion 和 Git。

这样做有很多优点，比如你可以从 Subversion 快速一次性导入到 Git 或者在 Atlassian Bitbucket

Server 中使用SubGit。我们可以用 SubGit 创建现有 Subversion 存储库的双向 Git-SVN 镜像。你

可以在方便时 push 到 Git 或提交 Subversion。同步由 SubGit 完成。

##### 37.如果本次提交误操作，如何撤销？

如果想撤销提交到索引区的文件，可以通过**git reset HEAD file**；如果想撤销提交到本地仓库的文件，可以通过**git reset –soft HEAD^n**恢复当前分支的版本库至上一次提交的状态，索引区和工作空间不变更；可以通过**git reset –mixed HEAD^n**恢复当前分支的版本库和索引区至上一次提交的

##### 38.是否使用过git stash指令，什么情况用？

命令git stash是把工作区修改的内容存储在栈区。 以下几种情况会使用到它：

- 解决冲突文件时，会先执行git stash，然后解决冲突；
- 遇到紧急开发任务但目前任务不能提交时，会先执行git stash，然后进行紧急任务的开发，然
- 后通过git stash pop取出栈区的内容继续开发；
- 切换分支时，当前工作空间内容不能提交时，会先执行git stash再进行分支切换；

##### 39.**如何查看分支提交的历史记录？查看某个文件的历史记录呢？**

查看分支的提交历史记录：

- 命令git log –number：表示查看当前分支前number个详细的提交历史记录；
- 命令git log –number –pretty=oneline：在上个命令的基础上进行简化，只显示sha-1码和提交
- 信息；
- 命令git reflog –number: 表示查看所有分支前number个简化的提交历史记录；
- 命令git reflog –number –pretty=oneline：显示简化的信息历史信息；
- 如果要查看某文件的提交历史记录，直接在上面命令后面加上文件名即可。

注意：如果没有number则显示全部提交次数。

##### 40.**使用过****git merge****和****git rebase****吗？它们之间有什么区别？*

简单的说，git merge和git rebase都是合并分支的命令。 git merge branch会把branch分支的差异内容pull到本地，然后与本地分支的内容一并形成一个committer对象提交到主分支上，合并后的分支与主分支一致； git rebase branch会把branch分支优先合并到主分支，然后把本地分支的commit放到主分支后面，合并后的分支就好像从合并后主分支又拉了一个分支一样，本地分支本身不会保留提交历史。

##### 41.**使用过****git cherry-pick，有什么作用？

命令git cherry-pick可以把branch A的commit复制到branch B上。 在branch B上进行命令操作：

- 复制单个提交：git cherry-pick commitId
- 复制多个提交：git cherry-pick commitId1…commitId3
- 注意：复制多个提交的命令不包含commitId1

### 二、Maven的相关知识

##### 1.什么是Maven？

 Maven是一个开源的项目管理和构建工具，用于管理Java项目的依赖关系、编译、测试、打包等工作。

##### 2.Maven的核心概念有哪些？

 Maven的核心概念包括项目对象模型（Project Object Model，POM）、坐标（Coordinates）、仓库（Repository）以及生命周期（Lifecycle）和插件（Plugin）等。

##### 3.POM文件中有哪些常见的配置元素？ 

POM文件中常见的配置元素包括项目坐标、依赖管理、构建插件、构建配置、打包类型等。

##### 4.如何指定项目的依赖关系？ 

可以通过在POM文件中的<dependencies>元素下添加<dependency>元素来指定项目的依赖关系，其中包括依赖的坐标、版本号等信息。

##### 5.什么是仓库（Repository）？ 

仓库是用于存储和管理项目依赖的地方，分为本地仓库和远程仓库。本地仓库位于本地开发机器上，而远程仓库可以是中央仓库或私有仓库。

##### 6.Maven的生命周期（Lifecycle）包括哪些阶段？ 

Maven的生命周期包括clean、validate、compile、test、package、verify、install和deploy等阶段，每个阶段都包含了一系列的构建目标（Goals）。

![image-20240229204105018](C:\Users\Luckylemon\AppData\Roaming\Typora\typora-user-images\image-20240229204105018.png)

##### 7.如何执行Maven构建？ 

可以通过在终端或命令行中进入项目的根目录，并运行mvn clean install命令来执行Maven构建。该命令会执行clean生命周期中的clean阶段和install生命周期中的所有阶段。

##### 8.Maven的常用命令有哪些？ 

- mvn archetype:generate 创建Maven项目
- mvn compile 编译源代码
- mvn deploy 发布项目
- mvn test-compile 编译测试源代码
- mvn test 运行应用程序中的单元测试
- mvn site 生成项目相关信息的网站
- mvn clean 清除项目目录中的生成结果
- mvn package 根据项目生成的jar
- mvn install 在本地Repository中安装jar
- mvn eclipse:eclipse 生成eclipse项目文件
- mvnjetty:run 启动jetty服务
- mvntomcat:run 启动tomcat服务
- mvn clean package -Dmaven.test.skip=true:清除以前的包后重新打包，跳过测试类

##### 9.什么是Maven仓库？ 

Maven仓库是用于存储和管理构件（JAR、WAR、POM等）的地方。它可以分为本地仓库和远程仓库。本地仓库位于开发者的机器上，而远程仓库可以是中央仓库或私有仓库。

##### 10.如何配置Maven的镜像（Mirror）？

 可以在settings.xml文件中配置Maven的镜像。镜像可以加速依赖下载过程，避免直接从远程仓库下载。

##### 11.如何排除传递性依赖？

 如果某个依赖引入了其他不必要的传递性依赖，可以使用<exclusions>元素在POM文件中排除这些依赖。

##### 12.什么是Maven聚合（Aggregation）？ 

Maven聚合可以将多个子项目组织成一个大的项目。使用聚合可以同时构建和发布多个项目，简化项目管理。

##### 13.如何创建一个Maven项目？

 可以使用mvn archetype:generate命令创建一个基于Maven的项目模板。该命令会提供一系列可选项，例如选择项目类型、坐标、依赖等。

##### 14.Maven的生命周期是什么？

 Maven的生命周期包括clean、default和site三个阶段。clean生命周期用于清理项目，default生命周期是项目编译、测试、打包等的默认生命周期，site生命周期用于生成项目的站点文档。

##### 15.如何创建一个自定义的Maven插件？

 可以使用Maven插件开发框架（Plugin Development Kit，PDK）来创建自定义的Maven插件。PDK提供了一些API和规范，帮助开发者创建和管理插件。

##### 16.什么是Maven插件（Plugin）？

 Maven插件是用于扩展Maven功能的工具。它们可以在Maven构建过程中执行特定的任务。

##### 17.如何执行自定义的Maven插件？ 

首先，在插件的POM文件中，需要定义插件的groupId、artifactId和版本号等信息。然后，在要使用插件的项目的POM文件中，使用<build>元素下的<plugins>元素配置插件。

##### 18.Maven可以进行跨平台构建吗？

 是的，Maven基于Java平台开发，因此可以在支持Java的各种操作系统上进行跨平台构建。

##### 19.如何引入依赖的第三方JAR包？ 

可以通过在项目的POM文件中配置<dependencies>元素，指定要引入的第三方JAR包的坐标和版本号。

##### 20.Maven的依赖冲突如何解决？ 

当项目存在依赖冲突时，可以使用Maven的依赖调解机制来解决。可以通过<dependencyManagement>元素、<exclusions>元素或者调整依赖顺序等方式来解决冲突。

##### 21.Maven的多模块项目如何管理？

 可以使用Maven的父子项目机制来管理多模块项目。通过将多个子模块定义在一个父项目中，实现代码共享、版本管理等功能。

##### 22.如何发布自己的Maven构件到远程仓库？ 

可以使用mvn deploy命令将自己的Maven构件发布到远程仓库。需要在POM文件中配置发布的目标仓库和认证信息。

##### 23.Maven能为我们解决什么问题？

①添加第三方jar包

按照最原始的做法，我们是手动复制jar包到项目WEB-INF/lib下，每个项目都会有一份，造成大量

重复文件。而Maven将jar包放在本地仓库中统一管理，需要jar包只需要用坐标的方式引用即可。

②jar包之间的依赖关系

jar包之间往往不是独立的，很多jar需要在其他jar包的支持下才能够正常工作，称为jar包之间的依

赖关系。如果我们手动去导入，要知道jar包之间的依赖关系并一一导入是及其麻烦而且容易出错

的。如果使用Maven，它能够将当前jar包所依赖的其他所有jar包全部导入。

③获取第三方jar包

开发过程中我们需要用到很多jar包，每个jar包在官网获取的方式不尽相同，给工作带来了额外困

难。但是使用Maven可以以坐标的方式依赖一个jar包，Maven从中央仓库进行下载，并同时下载这

个jar包依赖的其他jar包。

④将项目拆分为多个工程模块

项目的规模越来越大，已经不可能通过package结构来划分模块，必须将项目拆分为多个工程协同开发。

##### 24.说说Maven的优缺点

优点

- 简化了项目依赖管理
- 易于上手，对于新手来说了解几个常用命令即可满足日常工作
- 便于与持续集成工具（jenkins）整合
- 便于项目升级，无论是项目本身还是项目使用的依赖
- maven有很多插件，便于功能扩展，比如生产站点，自动发布版本等

缺点

- Maven是一个庞大的构建系统，学习难度大。（很多都可以这样说，入门容易[优点]但是精通
- 难[缺点]）
- Maven采用约定约定优于配置的策略，虽然上手容易但是一旦出现问题，难于调试中网络环境较差，很多repository无法访问。

##### 25.说说Maven依赖的原则

- 最短路径原则（依赖传递的路径越短越优先）
- pom文件申明顺序优先（路径长度一样，则先申明的优先）
- 覆写原则（当前pom文件里申明的直接覆盖父工程传过来的）

##### 26.说说Maven依赖的机制

当依赖的范围是 system 的时候，Maven 直接从本地文件系统中解析构件。

根据依赖坐标计算仓库路径，尝试直接从本地仓库寻找构件，如果发现对应的构件，就解析成功。

如果在本地仓库不存在相应的构件，就遍历所有的远程仓库，发现后，下载并解析使用。

如果依赖的版本是 RELEASE 或 LATEST，就基于更新策略读取所有远程仓库的元数据文件

（groupId/artifactId/maven-metadata.xml），将其与本地仓库的对应元合并后，计算出

RELEASE 或者 LATEST 真实的值，然后基于该值检查本地仓库，或者从远程仓库下载。

如果依赖的版本是 SNAPSHOT，就基于更新策略读取所有远程仓库的元数据文件，将它与本地仓库

对应的元数据合并，得到最新快照版本的值，然后根据该值检查本地仓库，或从远程仓库下载。

如果最后解析得到的构件版本包含有时间戳，先将该文件下载下来，再将文件名中时间戳信息删除，剩下 SNAPSHOT 并使用（以非时间戳的形式使用）。

##### 27.说说插件的解析机制

与依赖的构件一样，插件也是基于坐标保存在Maven仓库中。在用到插件的时候会先从本地仓库查

找插件，如果本地仓库没有则从远程仓库查找插件并下载到本地仓库。与普通的依赖构件不同的

是，Maven会区别对待普通依赖的远程仓库与插件的远程仓库。前面提到的配置远程仓库只会对普

通的依赖有效果。当Maven需要的插件在本地仓库不存在时是不会去我们以前配置的远程仓库查找

插件的，而是需要有专门的插件远程仓库。
